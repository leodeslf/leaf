<!doctype html>
<html lang='en'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="🌱 My learning docs and notes.">
    <meta name="author" content="Leonardo de S.L.F"/>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
    <link rel="stylesheet" href="/style/style.css"/>
    <link rel="stylesheet" href="/style/syntax-highlight.css"/>
    <link rel="stylesheet" href="/style/print.css" media="print"/>
    <link rel="stylesheet" href="/style/small.css" media="(max-width: 599px)"/>
    <title>Docs & Notes</title>
  </head>
  <body>
    <h1>
      <a href="/">🌱 Docs & Notes</a>
    </h1>
    <main>
      <h2>Eloquent JavaScript</h2>
<p>Written by Marijn Haverbeke.</p>
<h3>Values, Types and Operators</h3>
<h4>Numbers</h4>
<ul>
<li>Maximum possible number is close to 9 with 15 zeros.</li>
<li>Scientific notation <code>2e8</code>, means <code>2 * (10 ** 8)</code>.</li>
<li>Arithmetic operators with the same precedence execute from left to right.</li>
<li>The <code>/</code>, <code>*</code> and <code>%</code> share the same precedence, <code>+</code> and <code>-</code> also do.</li>
<li>The <code>/</code>, <code>*</code> and <code>%</code> executes first, then <code>+</code> and <code>-</code>.</li>
<li>Special numbers that don't behave like numbers are <code>NaN</code>, <code>Infinite</code> and <code>-Infinite</code>.</li>
</ul>
<h4>Strings</h4>
<ul>
<li>Escape character is <code>/</code>.</li>
<li>Backtick quote creates <em>template literals</em>.</li>
<li>Code inside <code>${}</code> will be computed.</li>
</ul>
<h4>Operators</h4>
<ul>
<li>Logical operator executes first (<code>||</code>, then <code>&amp;&amp;</code>), then comparison operators (<code>&gt;, &gt;=, &lt;, &lt;=, ==, ===</code>), then the rest.</li>
<li>Conditional operator (ternary) <code>true ? 1 : 0</code>.</li>
</ul>
<p>Short-circuiting:</p>
<ul>
<li><code>true || x --&gt; true</code> (x is never readed).</li>
<li><code>false || x --&gt; x</code>.</li>
<li><code>true &amp;&amp; x --&gt; x</code>.</li>
<li><code>false &amp;&amp; x --&gt; false</code> (x is never readed).</li>
<li><code>null == undefined --&gt; true</code>.</li>
<li><code>null === undefined --&gt; false</code>.</li>
<li><code>a ?? x</code> (returns x <strong>only</strong> if <code>a</code> is <code>undefined</code> or <code>null</code>). [Not EJS]</li>
<li><code>??</code> is called <em>nullish coalescing</em>. [Not EJS]</li>
<li>Automatic type conversion is called <em>type coercion</em>.</li>
</ul>
<h3>Program Structure</h3>
<p>Make code readable:</p>
<ul>
<li>Use semicolons (at the end of a statement).</li>
<li>Use braces (to wrap code blocks).</li>
<li>Indent with two (or four) spaces.</li>
</ul>
<p>The <code>brake</code> jumps out of the loop. The <code>continue</code> jumps to the loop's next iteration.</p>
<h3>Functions</h3>
<h4>Closure</h4>
<p>Is the ability to access a local binding created in a context that is no longer active (a function call that has ended).</p>
<p>This feature —being able to reference a specific instance of a local binding in an enclosing scope— is called <em>closure</em>.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">bindTo</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> localBinding <span class="token operator">=</span> n<span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> localBinding<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> one <span class="token operator">=</span> <span class="token function">bindTo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 1</span><br><br><span class="token keyword">let</span> hi <span class="token operator">=</span> <span class="token function">bindTo</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">hi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> hi</span></code></pre>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">multiplier</span><span class="token punctuation">(</span><span class="token parameter">factor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token parameter">number</span> <span class="token operator">=></span> number <span class="token operator">*</span> factor<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> double <span class="token operator">=</span> <span class="token function">multiplier</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">double</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 4</span><br><br><span class="token keyword">let</span> half <span class="token operator">=</span> <span class="token function">multiplier</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">half</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 1</span></code></pre>
<h4>Functions Visibility</h4>
<ul>
<li>Function definition (or binding) is under top-to-bottom flow of control.</li>
<li>Function declaration is <em>hoisted</em>.</li>
</ul>
<h4>Functions Scope</h4>
<ul>
<li>The <code>var</code> reaches global scope only if it's not in a function.</li>
<li>Visibility between blocks, its parents, and global scope is called <em>lexical scope</em>.</li>
<li>Calling a binding inside a different local scope is called <em>closure</em>.</li>
<li>A function that calls itself is called <em>recursive</em>.</li>
<li>A function that has no side effects and doesn't read global bindings is called <em>pure function</em>.</li>
</ul>
<h3>Data Structures: Objects and Arrays</h3>
<h4>Objects Properties</h4>
<ul>
<li>Property names are strings (calling <code>array.length</code> and <code>array[&quot;length&quot;]</code> is the same).</li>
<li>In JavaScript, functions contained in properties are called <em>methods</em>.</li>
<li>A non-existent property returns <code>undefined</code> (when not declared or deleted).</li>
<li>The <code>in</code> operator returns whether there exists a <code>(&quot;property&quot; in anObject)</code> or not.</li>
<li>The <code>keys</code> function returns all the properties as an array.</li>
</ul>
<h4>Some Array Methods</h4>
<ul>
<li>The <code>push</code> <strong>adds to the end</strong> and returns the new length.</li>
<li>The <code>pop</code> <strong>removes the last one</strong> and returns it.</li>
<li>The <code>unshift</code> <strong>adds to the beginning</strong> and returns the new length.</li>
<li>The <code>shift</code> <strong>removes the last one</strong> and returns it.</li>
<li>The <code>slice(start, end)</code>:
<ul>
<li><strong>Returns an array of elements</strong> between <code>start</code> and <code>end</code>.</li>
<li>The <code>start</code> is inclusive, <code>end</code> is exclusive.</li>
<li>Specific <code>end</code> is optional. No arguments will return an entire copy.</li>
</ul>
</li>
</ul>
<h4>Mutability</h4>
<ul>
<li>Values of numbers, strings, and booleans are <em>immutable</em>, we change the value the binding points to.</li>
<li>Binding elements to the same object leads to an <em>identity</em>.</li>
<li>Modifying the content of the original object will reflect changes on its bindings.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> val<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><br><span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">{</span> val<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> false</span><br><br>a<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 3</span></code></pre>
<h4>Some String Methods</h4>
<ul>
<li>The <code>trim</code> method <strong>removes all whitespaces</strong> from start and end.</li>
<li>The <code>padStart(n, character)</code> <strong>gives a string n length</strong> by adding a character at the start as many times as needed.
The <code>split(separator)</code>:
<ul>
<li><strong>Returns an array of substrings</strong>.</li>
<li>Split by any occurence of the given separator.</li>
<li>If the separator is an empty string (<code>&quot;&quot;</code>), the original is split between each character.</li>
</ul>
</li>
<li>The <code>repeat(n)</code> <strong>returns n concatenated copies</strong> of the original one.</li>
</ul>
<p>JavaScript stops or warns you when binding with <em>a name already taken</em>, but, it <strong>only</strong> does that for <code>let</code> and <code>const</code> declarations, not for <code>var</code> nor <code>function</code>.</p>
<h3>Higher-Order Functions</h3>
<p>A function that operates on other functions, taking them as arguments or returning them, are called <em>higher-order functions</em>.</p>
<p>Calls can be <em>stacked</em> in a single expression. When returning functions they can be called immediately if adding braces after the first call.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">hof</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">moreArgs</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">moreAndMoreArgs</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> moreArgs<span class="token punctuation">,</span> moreAndMoreArgs<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token function">hof</span><span class="token punctuation">(</span><span class="token string">'That is'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'an unexpected'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'and weird behavior'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> That is an unexpected and weird behavior</span></code></pre>
<h4>Strings and Character Codes</h4>
<ul>
<li>The <code>charCodeAt</code> returns a code unit (half character if it's an emoji for example).</li>
<li>The <code>codePointAt</code> returns a full Unicode character.</li>
</ul>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> horse <span class="token operator">=</span> <span class="token string">'🐴'</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horse<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 2</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horse<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> � (invalid character, half-character)</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horse<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 55357 (half-character code)</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horse<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 128052 (actual character code)</span></code></pre>
<h3>The Secret Life of Objects</h3>
<ul>
<li>It's a common practice to put an underscore (_) at the start of a <em>private</em> property name.</li>
<li>The <code>call</code> method takes <code>this</code> as the first parameter.</li>
<li>Each function defined with the <code>function</code> keyword has its own <code>this</code> binding.</li>
<li>Arrow functions do not bind their own <code>this</code>.</li>
</ul>
<h4>Symbols</h4>
<ul>
<li>Several properties can (but should not) have the same name with symbols.</li>
<li>Symbols are <em>included</em> or <em>accessed</em> by using square brackets.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span><br>  name<span class="token operator">:</span> <span class="token string">'Timon'</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> Timon</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> Pumba</span></code></pre>
<p>Even functions work with square brackets notation.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token punctuation">[</span>symbol<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'Random text'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">[</span>symbol<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> Random text</span></code></pre>
<p>Symbols are always <em>unique</em>, even when defined with the same args.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> nameAgain <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name <span class="token operator">==</span> nameAgain<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> false</span></code></pre>
<p>When declaring through <code>new Object</code> syntax (created by <code>class</code> or <code>function</code> notation), symbols can be applied directly on the <code>Object.prototype</code>.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">owner</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>owner <span class="token operator">=</span> owner<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> acmeCar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">'Coyote'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">let</span> owner <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name">Car</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>owner<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Road Runner'</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>acmeCar<span class="token punctuation">.</span>owner<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> Coyote</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>acmeCar<span class="token punctuation">[</span>owner<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> Road Runner</span></code></pre>
<ul>
<li>Symbols are not enumerated, they don't make part neither of <code>for...of</code> nor <code>for...in</code> loops.</li>
<li>Symbols don't get listed on <code>Object.keys()</code> or <code>Object.getOwnPropertyNames()</code>. They can be listed by using <code>Object.getOwnPropertySymbols()</code>.</li>
</ul>
<h4>Getters, Setters and Statics</h4>
<ul>
<li>The <code>get</code> properties are accessed directly, without the call notation (with parenthesis at the end).</li>
<li>Passing args to a <code>set</code> method is done directly too, it doesn't make use of function call notation.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Metric</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> magnitude<span class="token punctuation">,</span> unit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>magnitude <span class="token operator">=</span> magnitude<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>unit <span class="token operator">=</span> unit<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token keyword">set</span> <span class="token function">resetUnit</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Resetting unit.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>unit <span class="token operator">=</span> value<br>  <span class="token punctuation">}</span><br>  <span class="token keyword">get</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>magnitude<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>unit<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Metric</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">'time'</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>timer<span class="token punctuation">.</span>resetUnit <span class="token operator">=</span> <span class="token string">'hs'</span><span class="token punctuation">;</span><br><span class="token comment">// --> Resetting unit.</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> The time is 24hs.</span></code></pre>
<h4>Inheritance</h4>
<p>The <code>instanceof</code> sees through inherited types.</p>
<h3>Bugs and Errors</h3>
<ul>
<li>The <code>'use strict'</code> avoids automatic &quot;corrections&quot; and assumptions made by JavaScript, instead throwing errors, it also removes some features entirely.</li>
<li>The <code>debugger</code> creates a breakpoint and pauses the program if the developer tools is active.</li>
<li>When JavaScript 'throws' an error it stops all the call stack that ended in that exception, this is called <em>unwinding the stack</em>.</li>
<li>We can raise an exception manually with the <code>throw</code> keyword, like this: <code>throw new Error('Oops!')</code>.</li>
</ul>
<h3>Regular Expressions</h3>
<h4>Definition</h4>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Or:</span><br><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></code></pre>
<h4>Test method</h4>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aac'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> false</span><br><br><span class="token comment">// Or:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aac'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> false</span></code></pre>
<h4>Backslash codes (character groups)</h4>
<ul>
<li><code>\b</code> word boundary.</li>
<li><code>\d</code> digit.</li>
<li><code>\w</code> alphanumeric (&quot;word&quot;).</li>
<li><code>\s</code> whitespace.</li>
<li><code>\D</code> <em>not</em> a digit.</li>
<li><code>\W</code> <em>not</em> alphanumeric (&quot;word&quot;).</li>
<li><code>\S</code> <em>not</em> whitespace.</li>
<li><code>.</code> any, except a newline.</li>
</ul>
<h4>Set of characters</h4>
<ul>
<li>A <em>set of characters</em> (possibilities) can be defined between square brackets.</li>
<li>We can also define a <em>range of characters</em> like <code>[0-9]</code>, <code>[a-z]</code> or <code>[A-Z]</code>.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0123456789]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span><br><br><span class="token comment">// Same as the previous one</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span></code></pre>
<p>Backslash codes still work when used between square brackets (in a set of characters). But other <em>symbols</em>, such as <code>+</code> or <code>.</code>, lose their special meanings.</p>
<h4>Special symbols</h4>
<ul>
<li><code>^</code> matches <em>the start</em> of the pattern.
<ul>
<li>In a set of characters it <em>inverts/negates</em> the content of that set.</li>
</ul>
</li>
<li><code>+</code> matches a pattern <em>one or more times</em>.</li>
<li><code>*</code> matches a pattern <em>zero or more times</em>.</li>
<li><code>?</code> makes the pattern optional, matches <em>zero or one time</em>.</li>
<li><code>$</code> matches <em>the end</em> of the pattern.</li>
</ul>
<p>Using <code>[^]</code> can refer to any character, including a new line.</p>
<h4>Counters</h4>
<p>Braces after an element indicates that it should occur a <em>precise number of times</em> (or a range of times).</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a{4}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aaaa'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{1, 3}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'36'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span><br><br><span class="token comment">// Omitting the last value means an open-ended range (any amount of times).</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a{1,}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span></code></pre>
<h4>Grouping subexpressions</h4>
<p>It's possible to group subexpressions with parentheses:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(he)+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hehehe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span></code></pre>
<p>The whole match is always the first element.
A group matched multiple times, will return only the last match.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d)+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> ['123', '3']</span></code></pre>
<h4>Execute</h4>
<p>The <code>exec</code> method returns <code>null</code> if no match was found, and returns an object with information about the match otherwise.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> match <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'Number is 12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> ['12']</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> 10</span></code></pre>
<h4>String match</h4>
<p>Strings have a <code>match</code> method that behaves similarly.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Number is 12'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> ['12']</span></code></pre>
<h4>Choice patterns</h4>
<p>Grouping several patterns within parentheses and separating them with a pipe (<code>|</code>), makes each one of them an option (it will match just one of them at a time).</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(apple|orange|banana)\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'apple'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> true</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(A|B|C)\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'AB'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> false</span></code></pre>
<h4>Replace method</h4>
<ul>
<li>We can refer to <em>n</em> matched group in the replacement string with the dollar sign.</li>
<li>The <em>n</em> range is from 1 up to 9.</li>
<li>The <code>replace</code> returns a new string.</li>
<li>The <code>$&amp;</code> refers to the whole match.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">"dogs and cats"</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\w+) and (\w+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">"$2 and $1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> cats and dogs</span></code></pre>
<ul>
<li>The <code>replace</code> can also take a function as the second argument, which will be applied to each group matched.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">"DON'T SCREAM"</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(\w+)\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token parameter">str</span> <span class="token operator">=></span> str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4>Greedy matching</h4>
<ul>
<li>Repetition operators (<code>+</code>, <code>*</code>, <code>?</code>, <code>{}</code>) will match as much as they can.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> commentedCode <span class="token operator">=</span> <span class="token string">"x = 1 /* comment */+/* comment */ 10"</span><span class="token punctuation">;</span><br><br><span class="token comment">// Try to replace a comment block, and it's content.</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>commentedCode<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/\*[^]*\*\/</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> x = 1  10</span></code></pre>
<ul>
<li>On a <em>greedy</em> way, it will take the first &quot;start&quot; and the last &quot;end&quot; to match as much as it can.</li>
<li>To take a smaller match, we can put a question mark after the repetition operators to make them non-greedy (<code>+?</code>, <code>*?</code>, <code>??</code>, <code>{}?</code>).</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Try to replace a comment block, and it's content the right way.</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>commentedCode<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/\*[^]*?\*\/</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> x = 1 + 10</span></code></pre>
<h4>Escape characters</h4>
<ul>
<li>Characters with special meanings must be <em>escaped</em> to be matched against a regex.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Set of characters with special meanings.</span><br><span class="token keyword">let</span> escapeRegex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\?$^()[]{}.+*]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><br><span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'To be escaped: \\ ? $ ^ ( ) [ ] { } . + *'</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>escapeRegex<span class="token punctuation">,</span> <span class="token string">'\\$&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> To be escaped: \\ \? \$ \^ ( ) [ ] \{ \} \. \+ \*</span></code></pre>
<h4>LastIndex property</h4>
<ul>
<li>When <code>exec</code> matches <code>lastIndex</code> is updated to the index after the match.</li>
<li>Resets to zero if no match was found.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'the number is 180'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> ['1']</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><br><span class="token comment">// --> 15</span><br><span class="token comment">// '1' is at 14</span><br><br><span class="token comment">// Matching will start at index 15.</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'now it is 90'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> null</span></code></pre>
<p>Options:</p>
<ul>
<li><code>g</code> <em>global</em>, searches matches throughout all the input and can return more than one match.</li>
<li><code>y</code> <em>sticky</em>, search for a match at the <code>lastIndex</code> (zero by default).</li>
<li><code>i</code> <em>case insensitive</em>.</li>
</ul>
<p>Note: on sticky (<code>y</code>), match will succeed only if it starts directly with <code>lastIndex</code>, whereas global will search ahead.</p>
<h3>Modules</h3>
<ul>
<li>With <code>import</code>, we take the <strong>binding</strong> from other modules, not the value.</li>
<li>If the exported binding is redefined, the modules that imported it will see its new value.</li>
</ul>
<h3>Asynchronous Programming</h3>
<h4>Promises</h4>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> value <span class="token operator">=</span> promise<br>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* use value */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">reason</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* use reason */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Or:</span><br><span class="token keyword">let</span> promiseValue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* Do something. */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* use value */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">reason</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* use reason */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4>Async functions</h4>
<ul>
<li>The <code>async</code> functions implicitly return a promise. The <code>await</code> keyword can be used only inside an <code>async</code> function.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">anotherPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">waitAndDo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Code will stop here at `await`, until "anotherPromise" is ready.</span><br>  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">anotherPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> any <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><br><span class="token function">waitAndDo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  any <span class="token operator">=</span> value<span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>any<span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>any<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// --> undefined</span><br><span class="token comment">// --> 1</span></code></pre>
<h4>Generators</h4>
<p>Generators produce an iterable.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">powers</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> current <span class="token operator">=</span> n<span class="token punctuation">;</span><span class="token punctuation">;</span> current <span class="token operator">*=</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">yield</span> current<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> power <span class="token keyword">of</span> <span class="token function">powers</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>power <span class="token operator">></span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>power<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token comment">// --> 2</span><br><span class="token comment">// --> 4</span><br><span class="token comment">// --> 8</span><br><span class="token comment">// --> 16</span></code></pre>
<h3>JavaScript and the Browser</h3>
<h4>The Web</h4>
<ul>
<li>The URL (Uniform Resource Locator) structure is <code>[protocol]://[server]/[path]</code>.</li>
</ul>
<h4>HTML</h4>
<ul>
<li>In HTML, an ampersand (&amp;) followed by a name or character code and a semicolon (;) is called an <em>entity</em>.</li>
</ul>
<h3>The DOM</h3>
<h4>Trees</h4>
<ul>
<li>Each element has a <code>nodeType</code> property, which is a number code that identifies the type of the node. They are constant properties of <code>Node</code> objects.</li>
</ul>
<p>Examples:</p>
<ul>
<li><code>Node.ELEMENT_NODE</code> = 1.</li>
<li><code>Node.TEXT_NODE</code> = 3.</li>
<li><code>Node.COMMENT_NODE</code> = 8.</li>
<li><code>Node.DOCUMENT_NODE</code> = 9.</li>
</ul>
<p>There are 12 codes (2, 4, 5, 6 and 12 are deprecated).</p>
<h4>Moving through the tree</h4>
<p>Every node has a <code>parentNode</code> and only element nodes have <code>childNode</code>. Also <code>firstChild</code> and <code>lastChild</code>, similarly, <code>previousSiblind</code> and <code>nextSilbling</code> (when there isn't a previous or a next, it returns <code>null</code>).</p>
<p>There is also the <code>children</code> property, but contains only element nodes (<code>nodetype</code> = 1), not as <code>childNodes</code> which contains all of them.</p>
<h4>Changing the document</h4>
<p>A node can exist only in one place. That means if we take an element from a certain part of the DOM tree and we insert it into a different part, it will first be removed from the dom, and then inserted in its new place.</p>
<p>The <code>replaceChildren</code> method takes the new node, and the one to be replaced as arguments.</p>
<h4>Creating nodes</h4>
<ul>
<li>Some array-like collections returned by <code>getElementsByTagName</code> and <code>childNodes</code> are <em>live</em>. That means they are updated when the DOM changes.</li>
<li>If we want a solid collection of nodes, we can call it from <code>Array.from</code>.</li>
</ul>
<h4>Attributes</h4>
<ul>
<li>We can work with attributes with <code>getAttribute</code> and <code>setAttribute</code>.</li>
<li>Commonly used attributes are <code>class</code>, <code>id</code>, <code>href</code>, but we can also create our own attributes, it's recommended to prefix them with <code>data-</code> as a good practice.</li>
</ul>
<h4>Layout</h4>
<p>Useful element properties:</p>
<ul>
<li>The <code>offsetWidth</code> and <code>offsetHeight</code> give the space the element takes up in pixels.</li>
<li>Similarly, <code>clientWidth</code> and <code>clientHeight</code> give the size <em>inside</em> the element, ignoring the border.</li>
<li>To get the <code>top</code>, <code>bottom</code>, <code>left</code> and <code>right</code> position of an element, use the <code>getBoundingClientRect</code> method.</li>
<li>Current scroll position can be found with <code>pageXOffeset</code> and <code>pageYOfffset</code>.</li>
</ul>
<h4>Query selectors</h4>
<p>Unlike <code>getElementsByTagName</code>, the object returned by <code>querySelectorAll</code> is not <em>live</em>.</p>
<h3>Handling Events</h3>
<h4>Default actions</h4>
<p>To prevent the default action to be fired when an event occurs, use <code>event.preventDefault()</code> methot. Some events can not be intercepted.</p>
<h4>Pointer events</h4>
<h5>Mouse clicks</h5>
<p>When a click is done, <code>mousedown</code>, <code>mouseup</code> and then <code>click</code> fires.</p>
<p>That event holds:</p>
<ul>
<li>The <code>clientX</code> and <code>clientY</code>, which contains the clients coordinates in pixels, relative to the top-left corner of the window.</li>
<li>The <code>pageX</code> and <code>pageY</code>, are relative to the whole document.</li>
</ul>
<h4>Web worker</h4>
<p>A different thread can be fired with a web worker. Workers do not share their global scope, they need to use <code>postMessage</code> and <code>onMessage</code> to communicate with other scopes.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// worker.js</span><br>self<span class="token punctuation">.</span><span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'First element sent from main thread is:'</span><span class="token punctuation">,</span> e<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Message received'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// main.js</span><br><span class="token keyword">let</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>worker<span class="token punctuation">.</span><span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'From worker:'</span><span class="token punctuation">,</span> e<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> First element sent from main thread is: true</span><br><span class="token comment">// --> From worker: Message received</span></code></pre>
<p>Each side receives a <em>copy</em> of the object sent, rather than the value itself.</p>
<h4>Timers</h4>
<ul>
<li>The <code>setTimeout</code> function schedules a function to be called after a given number of milliseconds.</li>
<li>A <code>setInterval</code> sets a timer that should fire every given number of milliseconds.</li>
<li>Similarly to <code>animationFrame</code> and <code>cancelAnimationFrame</code>, these timers also have a <code>clearTimeout</code> and <code>clearInterval</code> respectively.</li>
</ul>
<h4>Debouncing</h4>
<p>A common practice to avoid calling a function, or handling an event too often, is using a <code>setTimeout</code>, this is called <em>debouncing</em> the event.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> scheduled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>scheduled<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token comment">// Do something...</span><br>      <span class="token comment">// When it's done, let it schedule</span><br>      <span class="token comment">// again by resetting the value.</span><br>      scheduled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  schedule <span class="token operator">=</span> event<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3>HTTP and Forms</h3>
<h4>The protocol</h4>
<ul>
<li>The shape of an HTTP request is <code>[method] [path] [version]</code>.</li>
<li>Methods: <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>.</li>
<li>A server response, e.g.: <code>HTTP/1.1 200 OK</code>. Starts with the protocols version, followed with the status code, and finally a human-readable version of that status.</li>
<li>Status code starting with a <code>2</code> indicates success. Starting with a <code>4</code> means there was something wrong. Codes with <code>5</code> means an error happened on the server.</li>
<li>The first line of a request can be followed by a number of <em>headers</em>. Header's shape is <code>name: value</code>.</li>
</ul>
<h4>Browsers and HTTP</h4>
<p>Forms:</p>
<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GET<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example/message.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Last name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lname<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Send<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<ul>
<li>
<p>Resulting <em>submitted</em> request: <code>GET /example/message.html?name=Some&amp;lname=Name HTTP/1.1</code>.</p>
</li>
<li>
<p>Ampersand is used to separate pairs.</p>
</li>
<li>
<p>Text must be escaped (encoded) to use it as a request. Use <code>encodeURIComponent</code> to parse, and <code>decodeURIComponent</code>.</p>
</li>
</ul>
<h4>Fetch</h4>
<ul>
<li>When the URL argument doesn't start with a protocol name, it's treated as <em>relative</em>.</li>
<li>When it starts with a slash, it replaces the current path.</li>
<li>When it does not, it is put in front of the relative URL.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'example/data.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// --> 200</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li>Use the <code>text</code> method to get the actual content of a response.</li>
</ul>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'example/data.txt'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">text</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// --> Content of data.txt</span></code></pre>
<p>Similarly, use <code>json</code> to parse from plain text JSON file to JavaScript object notation.</p>
<p>Example:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'example/data.txt'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4>Focus</h4>
<p>To move the focus to an element use <code>focus</code>. To remove focus use <code>blur</code> method. If the user is expected to interact immediately use <code>autofocus</code>.
We can influence the order of elements when moving through with <code>TAB</code> using the <code>tabindex</code> attribute. A <code>tabindex</code> of -1 makes tabbing skip over an element.</p>
<h4>The form as a whole</h4>
<ul>
<li>Each <code>&lt;form&gt;</code> element contains an array-like collection of elements on it's <code>elements</code> property.</li>
</ul>
<!-- https://eloquentjavascript.net/ -->

    </main>
    <footer>
      <p>
        🌱 Learning
        <a href="/">docs & notes</a>
        about my Frontend Development journey,
        <a href="https://www.leodeslf.com/">Leo de S.L.F</a>.
      </p>
    </footer>
    <a id="go-to-top-btn" href="#">&gt;</a>
  </body>
</html>